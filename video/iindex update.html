<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Continuous Video Playback with Smooth Zoom and Sphere Redirect</title>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <!--<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>-->
  <style>
    body { margin: 0; }
    a-scene { height: 100vh; }
  </style>
</head>
<body>
  <a-scene>
    <a-assets>
      <a-asset-item id="bowser" src="./image/himanshu-avatar.glb"></a-asset-item>
      <a-asset-item id="spotifyLogo" src="./video/spotify_logo.glb"></a-asset-item>
    </a-assets>

    <!-- Camera with cursor for interaction -->
    <a-entity id="camera" camera position="0 1.6 5" wasd-controls look-controls>
      <a-cursor fuse="true" fuseTimeout="500" raycaster="objects: .clickable" material="color: black; shader: flat">
        <a-animation begin="click" easing="ease-in" attribute="scale" fill="forwards" to="1 1 1"></a-animation>
      </a-cursor>
    </a-entity>

    <!-- Video plane -->
    <a-plane position="0 2.5 -6" rotation="0 0 0" width="5" height="2.25" color="#7BC8A4">
      <a-video
        src="#videoBunny"
        width="5"
        height="2.25"
        position="0 0 0.01"
        rotation="0 0 0"
        autoplay
        loop="true"
        crossOrigin="anonymous"
        muted
      ></a-video>
    </a-plane>

    <!-- Ground plane -->
    <a-plane position="0 0 -4" rotation="-60 0 0" width="5" height="4" color="#000000">
      <a-text value="DJ HIMANSHU MISHRA" align="left" color="white" position="-2.4 -1.6 0.1" scale="1.5 1.5 1.5"></a-text>
      <a-text value="Founder - GrooveNexus" align="left" color="white" position="-2.4 -1.9 0.1" scale="0.5 0.5 1.5"></a-text>
      <a-image src="./image/qr.jpg" position="1.7 0.6 0.3" width="1" height="1"></a-image>
    </a-plane>

    <!-- Avatar entity -->
    <a-entity gltf-model="#bowser" position="1.3 1 1" scale="0.5 0.5 0.5"></a-entity>

    <!-- GLB Logos replacing circles -->
    <a-entity id="logoA" class="clickable" gltf-model="#spotifyLogo" scale="0.5 0.5 0.5" position="-3 -1 -4"></a-entity>
    <a-entity id="logoB" class="clickable" gltf-model="#spotifyLogo" scale="0.5 0.5 0.5" position="-1 -1 -4"></a-entity>
    <a-entity id="logoC" class="clickable" gltf-model="#spotifyLogo" scale="0.5 0.5 0.5" position="1 -1 -4"></a-entity>
    <a-entity id="logoD" class="clickable" gltf-model="#spotifyLogo" scale="0.5 0.5 0.5" position="3 -1 -4"></a-entity>

    <!-- Video element -->
    <video id="videoBunny" preload="auto" src="./video/GrooveNexus Intro Teaser.mp4" crossOrigin="anonymous" muted></video>

    <!-- camera 
    <a-entity camera ></a-entity>-->
  </a-scene>

  <script>
    // Ensure the video plays continuously
    document.querySelector('a-scene').addEventListener('loaded', () => {
      const video = document.querySelector('#videoBunny');
      video.play();

      // Listen for the video to end and restart it
      video.addEventListener('ended', () => {
        video.currentTime = 0;
        video.play();
      });
    });

    document.addEventListener('DOMContentLoaded', function() {
      const logoA = document.getElementById('logoA');
      const logoB = document.getElementById('logoB');
      const logoC = document.getElementById('logoC');
      const logoD = document.getElementById('logoD');

      logoA.addEventListener('click', function() {
        window.location.href = 'https://www.google.com';
      });

      logoB.addEventListener('click', function() {
        window.location.href = 'https://www.google.com';
      });

      logoC.addEventListener('click', function() {
        window.location.href = 'https://www.google.com';
      });

      logoD.addEventListener('click', function() {
        window.location.href = 'https://www.google.com';
      });
    });
  </script>
</body>
</html>
